(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4492:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),n=s(4486),l=s(2821),r=s(3048);function i(e){let{children:t,title:s,subtitle:i,variant:c="default",className:o}=e,x=(0,r.ze)(),d=(0,a.jsxs)(a.Fragment,{children:[(s||i)&&(0,a.jsxs)("div",{className:"mb-4 sm:mb-6 border-b border-white/10 pb-3 sm:pb-4",children:[s&&(0,a.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-neon-cyan mb-1 sm:mb-2 text-shadow-glow-light sm:text-shadow-glow",children:s}),i&&(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 uppercase tracking-wider",children:i})]}),t]});return x?(0,a.jsx)("div",{className:(0,l.A)("glass-panel-mobile p-4 sm:p-6 md:p-8","bordered"===c&&"border-2 border-neon-blue/30",o),children:d}):(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:(0,l.A)("glass-panel p-4 sm:p-6 md:p-8","bordered"===c&&"border-2 border-neon-blue/30",o),children:d})}},8886:(e,t,s)=>{Promise.resolve().then(s.bind(s,9007))},9007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),n=s(4486),l=s(2115),r=s(8955),i=s(8211),c=s(4492),o=s(8122),x=s(960),d=s(854),m=s(5342);let h=(e,t)=>"el"===t&&e.nameEl?e.nameEl:e.name;function p(){let e=(0,r.c)("statistics"),t=(0,r.c)("common"),s=(0,r.c)("subscription"),{user:p,isAuthenticated:g}=(0,d.A)(),{locale:y}=(0,m.n)(),[b,j]=(0,l.useState)(null),[f,N]=(0,l.useState)([]),[u,v]=(0,l.useState)([]),[w,P]=(0,l.useState)(null),[k,S]=(0,l.useState)(void 0),[A,R]=(0,l.useState)(null),[F,O]=(0,l.useState)("current"),[B,D]=(0,l.useState)(!0),[E,C]=(0,l.useState)(""),L=new Date,M=L.getMonth()+1,Y=L.getFullYear(),_=(0,l.useMemo)(()=>{let e={};return f.forEach(t=>{e[t.year]||(e[t.year]=[]),e[t.year].push(t)}),e},[f]);(0,l.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([x.F.getAvailableMonths(),x.F.getAvailableYears()]);N(e),v(t)}catch(e){console.error("Failed to fetch available data:",e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await x.F.getHistoricalStatistics(k);P(e)}catch(e){console.error("Failed to fetch historical statistics:",e)}})()},[k]),(0,l.useEffect)(()=>{(async()=>{if(g&&(null==p?void 0:p.role)!=="admin")try{let e=await x.F.getDashboardStats();e.subscription&&R(e.subscription)}catch(e){console.error("Failed to fetch subscription info:",e)}})()},[g,null==p?void 0:p.role]),(0,l.useEffect)(()=>{(async()=>{try{let e,t;if(D(!0),"current"===F)e=M,t=Y;else if("all"===F);else if(F.startsWith("year-"))t=parseInt(F.replace("year-",""),10);else{let[s,a]=F.split("-").map(Number);e=s,t=a}let s=await x.F.getStatistics(e,t);j(s),C("")}catch(s){var e,t;console.error("Failed to fetch statistics:",s),C((null==(t=s.response)||null==(e=t.data)?void 0:e.message)||"Failed to load statistics")}finally{D(!1)}})()},[F,M,Y]);let I=(null==b?void 0:b.categories.reduce((e,t)=>({wins:e.wins+t.wins,losses:e.losses+t.losses,cashOuts:e.cashOuts+(t.cashOuts||0),totalBets:e.totalBets+t.totalBets,totalProfit:e.totalProfit+t.totalProfit}),{wins:0,losses:0,cashOuts:0,totalBets:0,totalProfit:0}))||{wins:0,losses:0,cashOuts:0,totalBets:0,totalProfit:0},T=I.totalBets>0?I.wins/I.totalBets*100:0;return B?(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 pt-24 sm:pt-32 pb-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-neon-cyan"}),(0,a.jsx)("p",{className:"mt-4 text-gray-400",children:t("loading")})]})})]}):E?(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("div",{className:"container mx-auto px-4 pt-24 sm:pt-32 pb-20",children:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-red-400 mb-4",children:E}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-neon-cyan/20 text-neon-cyan rounded-lg hover:bg-neon-cyan/30 transition-colors",children:t("retry")})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(i.A,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 pt-24 sm:pt-32 pb-20",children:[(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"font-orbitron text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold text-neon-cyan mb-4 text-shadow-glow",children:e("title")}),(0,a.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-gray-300",children:e("subtitle")})]}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6 sm:mb-8",children:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(o.wIk,{className:"text-neon-cyan text-xl"}),(0,a.jsxs)("span",{className:"text-gray-400 font-bold",children:[e("filterByPeriod"),":"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>O("current"),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("current"===F?"bg-neon-cyan text-dark-100":"bg-dark-200 text-gray-300 hover:bg-dark-100 border border-gray-700"),children:e("currentMonth")}),(0,a.jsx)("button",{onClick:()=>O("all"),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("all"===F?"bg-neon-cyan text-dark-100":"bg-dark-200 text-gray-300 hover:bg-dark-100 border border-gray-700"),children:e("allTime")})]}),u.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[e("byYear"),":"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,a.jsx)("button",{onClick:()=>O("year-".concat(e.year)),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(F==="year-".concat(e.year)?"bg-neon-orange text-dark-100":"bg-dark-200 text-gray-300 hover:bg-dark-100 border border-gray-700"),children:e.label},e.year))})]}),Object.keys(_).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[e("byMonth"),":"]}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(_).sort((e,t)=>{let[s]=e,[a]=t;return parseInt(a)-parseInt(s)}).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1 font-semibold",children:t}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>{let t=e.month===M&&e.year===Y;return(0,a.jsxs)("button",{onClick:()=>O("".concat(e.month,"-").concat(e.year)),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-all ".concat(F==="".concat(e.month,"-").concat(e.year)?"bg-neon-green text-dark-100":t?"bg-neon-cyan/20 text-neon-cyan border border-neon-cyan/50 hover:bg-neon-cyan/30":"bg-dark-200 text-gray-300 hover:bg-dark-100 border border-gray-700"),children:[new Date(e.year,e.month-1).toLocaleString("default",{month:"short"}),t&&" ✓"]},"".concat(e.month,"-").concat(e.year))})})]},t)})})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e("showing"),": ",(0,a.jsx)("span",{className:"text-white font-semibold",children:"current"===F?"".concat(new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})):"all"===F?e("allTime"):F.startsWith("year-")?"".concat(e("fullYear")," ").concat(F.replace("year-","")):(()=>{let[e,t]=F.split("-").map(Number);return new Date(t,e-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()})]})})]})})}),g&&(null==p?void 0:p.role)!=="admin"&&A&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6 sm:mb-8",children:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(A.daysRemaining<=3?"bg-red-500/20":A.daysRemaining<=7?"bg-yellow-500/20":"bg-neon-green/20"),children:(0,a.jsx)(o.Ohp,{className:"text-2xl ".concat(A.daysRemaining<=3?"text-red-400":A.daysRemaining<=7?"text-yellow-400":"text-neon-green")})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.est,{className:"text-neon-cyan"}),(0,a.jsx)("span",{className:"text-white font-semibold",children:A.packName})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[s("expires"),": ",new Date(A.endDate).toLocaleDateString("el"===y?"el-GR":"en-US")]})]})]}),(0,a.jsxs)("div",{className:"text-center sm:text-right px-4 py-2 rounded-lg ".concat(A.daysRemaining<=3?"bg-red-500/10 border border-red-500/30":A.daysRemaining<=7?"bg-yellow-500/10 border border-yellow-500/30":"bg-neon-green/10 border border-neon-green/30"),children:[(0,a.jsx)("p",{className:"text-2xl font-orbitron font-bold ".concat(A.daysRemaining<=3?"text-red-400":A.daysRemaining<=7?"text-yellow-400":"text-neon-green"),children:A.daysRemaining}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:t("daysRemaining")})]})]}),A.daysRemaining<=7&&(0,a.jsx)("p",{className:"mt-3 text-sm ".concat(A.daysRemaining<=3?"text-red-400":"text-yellow-400"),children:A.daysRemaining<=3?"⚠️ ".concat(s("expiringWarning"),"! ").concat(s("renewNow"),"."):"⏰ ".concat(s("expiresSoon"))})]})})}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6 sm:mb-8",children:[(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(o.TPq,{className:"mx-auto text-3xl text-green-400 mb-2"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-orbitron font-bold text-white",children:I.wins}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e("totalWins")})]})}),(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(o.JW4,{className:"mx-auto text-3xl text-red-400 mb-2"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-orbitron font-bold text-white",children:I.losses}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e("totalLosses")})]})}),(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(o.OZ2,{className:"mx-auto text-3xl text-orange-400 mb-2"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-orbitron font-bold text-white",children:I.cashOuts}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e("totalCashOuts")})]})}),(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(o.ARf,{className:"mx-auto text-3xl text-neon-cyan mb-2"}),(0,a.jsxs)("p",{className:"text-2xl sm:text-3xl font-orbitron font-bold text-white",children:[T.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e("winRate")})]})}),(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(o.z8N,{className:"mx-auto text-3xl text-neon-orange mb-2"}),(0,a.jsxs)("p",{className:"text-2xl sm:text-3xl font-orbitron font-bold ".concat(I.totalProfit>=0?"text-green-400":"text-red-400"),children:[I.totalProfit>=0?"+":"","€",I.totalProfit.toFixed(2)]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e("totalProfit")})]})})]}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6 sm:mb-8",children:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("h3",{className:"font-orbitron text-lg font-bold text-neon-cyan mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.z8N,{}),e("standardBets")]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:null==b?void 0:b.categories.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2",children:[(0,a.jsxs)("span",{className:"text-gray-300",children:[h(e,y),":"]}),(0,a.jsxs)("span",{className:"font-orbitron font-bold text-neon-orange",children:["€",e.standardBet.toFixed(2)]})]},e.id))})]})})}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,a.jsx)("h2",{className:"font-orbitron text-xl sm:text-2xl font-bold text-white mb-4",children:e("categoryBreakdown")}),(0,a.jsxs)("div",{className:"space-y-4",children:[null==b?void 0:b.categories.map((t,s)=>(0,a.jsx)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 mb-2",children:(0,a.jsx)("h3",{className:"font-orbitron text-lg sm:text-xl font-bold text-white",children:h(t,y)})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[e("wins"),":"]}),(0,a.jsx)("span",{className:"text-green-400 font-bold",children:t.wins})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[e("losses"),":"]}),(0,a.jsx)("span",{className:"text-red-400 font-bold",children:t.losses})]}),(t.cashOuts||0)>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[e("cashOuts"),":"]}),(0,a.jsx)("span",{className:"text-orange-400 font-bold",children:t.cashOuts})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[e("winRate"),":"]}),(0,a.jsxs)("span",{className:"text-neon-cyan font-bold",children:[t.winRate.toFixed(1),"%"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm mb-1",children:e("profit")}),(0,a.jsxs)("p",{className:"font-orbitron text-2xl sm:text-3xl font-bold ".concat(t.totalProfit>=0?"text-green-400":"text-red-400"),children:[t.totalProfit>=0?"+":"","€",t.totalProfit.toFixed(2)]})]})]}),t.totalBets>0&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:{width:"".concat(t.winRate,"%")}})})})]})})},t.id)),(null==b?void 0:b.categories.length)===0&&(0,a.jsx)(c.A,{children:(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-2xl text-gray-400",children:e("noStatistics")})})})]})]}),w&&w.statistics.length>0&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 sm:mt-12",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"font-orbitron text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(o.OZ2,{className:"text-neon-orange"}),e("historical.title")]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:e("historical.subtitle")})]}),w.years.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:[e("historical.filterByYear"),":"]}),(0,a.jsxs)("select",{value:k||"",onChange:e=>S(e.target.value?parseInt(e.target.value):void 0),className:"appearance-none bg-cyber-navy border border-gray-700 rounded-lg px-3 py-2 pr-8 text-gray-300 focus:border-neon-cyan focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:e("historical.allYears")}),w.years.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-neon-orange/10 border border-neon-orange/30 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-neon-orange",children:["ℹ️ ",e("historical.note")]})}),(0,a.jsx)(c.A,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:e("historical.yearMonth")}),(0,a.jsx)("th",{className:"text-center py-3 px-4 text-gray-400 font-medium",children:e("historical.result")}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:e("historical.monthlyProfitLoss")}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:e("historical.runningTotal")})]})}),(0,a.jsx)("tbody",{children:w.statistics.map((t,s)=>{let n=new Date(t.year,t.month-1).toLocaleString("el"===y?"el-GR":"en-US",{month:"long"});return(0,a.jsxs)("tr",{className:"border-b border-gray-700/50 hover:bg-white/5 transition-colors ".concat(s%2==0?"bg-dark-200/30":""),children:[(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:n}),(0,a.jsx)("span",{className:"text-gray-400 ml-2",children:t.year})]}),(0,a.jsx)("td",{className:"py-3 px-4 text-center",children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ".concat(t.isProfit?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:t.isProfit?e("historical.profit"):e("historical.loss")})}),(0,a.jsxs)("td",{className:"py-3 px-4 text-right font-orbitron font-bold ".concat(t.isProfit?"text-green-400":"text-red-400"),children:[t.isProfit?"+":"-","€",t.amount.toFixed(2)]}),(0,a.jsxs)("td",{className:"py-3 px-4 text-right font-orbitron font-bold text-neon-cyan",children:["€",t.runningTotal.toFixed(2)]})]},t.id)})})]})})})]})]})]})}}},e=>{e.O(0,[844,594,240,211,441,493,358],()=>e(e.s=8886)),_N_E=e.O()}]);