@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&family=Exo+2:wght@300;400;500;600;700;800&display=swap');

@layer base {
  html {
    /* Prevent text size adjustment on mobile */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Smooth scrolling for anchor links */
    scroll-behavior: smooth;
  }

  body {
    @apply bg-cyber-dark text-white antialiased;
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
    /* Prevent pull-to-refresh on mobile */
    overscroll-behavior-y: contain;
    /* Improve tap behavior */
    -webkit-tap-highlight-color: transparent;
  }

  /* Improve touch targets for mobile */
  button, a, input, select, textarea {
    touch-action: manipulation;
  }

  /* Minimum touch target size for accessibility */
  button, [role="button"] {
    min-height: 44px;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Orbitron', sans-serif;
    font-weight: 700;
  }

  /* Prevent horizontal scroll on mobile */
  * {
    max-width: 100vw;
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Glassmorphism panel - optimized for mobile */
  .glass-panel {
    @apply bg-glass-white rounded-2xl border border-white/10;
    box-shadow: 0 8px 32px 0 rgba(0, 229, 255, 0.1),
                inset 0 1px 1px rgba(255, 255, 255, 0.1);
    /* Use full blur only on desktop */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* Mobile-optimized glass panel - reduced blur for performance */
  .glass-panel-mobile {
    @apply bg-glass-white rounded-2xl border border-white/10;
    box-shadow: 0 4px 16px 0 rgba(0, 229, 255, 0.08);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Light version of glass panel for nested elements */
  .glass-panel-light {
    @apply bg-white/5 rounded-xl border border-white/5;
    backdrop-filter: none;
  }

  /* Mobile-optimized backdrop blur */
  .backdrop-blur-mobile {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Reduce blur on mobile devices */
  @media (max-width: 767px) {
    .glass-panel {
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      box-shadow: 0 4px 16px 0 rgba(0, 229, 255, 0.08);
    }

    .glass-panel-mobile {
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }

    .backdrop-blur-xl {
      backdrop-filter: blur(8px) !important;
      -webkit-backdrop-filter: blur(8px) !important;
    }

    .backdrop-blur-mobile {
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }
  }

  /* Neon glow effects - simplified on mobile */
  .glow-blue {
    @apply shadow-neon-blue;
  }

  .glow-orange {
    @apply shadow-neon-orange;
  }

  .glow-purple {
    @apply shadow-neon-purple;
  }

  /* Simplified shadows for mobile */
  @media (max-width: 767px) {
    .glow-blue,
    .glow-orange,
    .glow-purple {
      box-shadow: none;
    }
  }

  /* Card shadow variants */
  .shadow-card-green {
    box-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
  }

  @media (max-width: 767px) {
    .shadow-card-green {
      box-shadow: 0 0 5px rgba(0, 255, 157, 0.2);
    }
  }

  /* Animated background */
  .cyber-bg {
    @apply bg-gradient-cyber relative overflow-hidden;
  }

  .cyber-bg::before {
    content: '';
    @apply absolute inset-0 opacity-20;
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(0, 229, 255, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(184, 41, 255, 0.3) 0%, transparent 50%);
    animation: bgPulse 10s ease-in-out infinite;
  }

  /* Disable background animation on mobile */
  @media (max-width: 767px) {
    .cyber-bg::before {
      animation: none;
      opacity: 0.1;
    }
  }

  @keyframes bgPulse {
    0%, 100% {
      opacity: 0.2;
      transform: scale(1);
    }
    50% {
      opacity: 0.4;
      transform: scale(1.1);
    }
  }

  /* Neon border - simplified on mobile */
  .neon-border {
    @apply border-2 border-neon-blue/50 rounded-xl;
    box-shadow: 0 0 10px rgba(0, 229, 255, 0.3),
                inset 0 0 10px rgba(0, 229, 255, 0.1);
  }

  .neon-border-orange {
    @apply border-2 border-neon-orange/50 rounded-xl;
    box-shadow: 0 0 10px rgba(255, 107, 53, 0.3),
                inset 0 0 10px rgba(255, 107, 53, 0.1);
  }

  .neon-border-purple {
    @apply border-2 border-neon-purple/50 rounded-xl;
    box-shadow: 0 0 10px rgba(184, 41, 255, 0.3),
                inset 0 0 10px rgba(184, 41, 255, 0.1);
  }

  /* Simplified borders on mobile */
  @media (max-width: 767px) {
    .neon-border,
    .neon-border-orange,
    .neon-border-purple {
      box-shadow: none;
    }
  }

  /* HUD style text */
  .hud-text {
    font-family: 'Exo 2', sans-serif;
    text-transform: uppercase;
    letter-spacing: 2px;
    @apply text-sm font-semibold text-neon-cyan;
  }

  /* Floating animation */
  .float-animation {
    animation: float 3s ease-in-out infinite;
  }

  /* Light sweep effect for buttons */
  .light-sweep {
    position: relative;
    overflow: hidden;
  }

  .light-sweep::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transition: left 0.5s;
  }

  .light-sweep:hover::after {
    left: 100%;
  }

  /* Disable light sweep on touch devices */
  @media (hover: none) {
    .light-sweep::after {
      display: none;
    }
  }

  /* Particle background */
  .particles {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(0, 229, 255, 0.8) 0%, transparent 70%);
    opacity: 0;
    animation: particle-float 15s infinite;
    will-change: transform, opacity;
    contain: layout paint;
  }

  @keyframes particle-float {
    0% {
      transform: translateY(100vh) translateX(0);
      opacity: 0;
    }
    10% {
      opacity: 0.8;
    }
    90% {
      opacity: 0.8;
    }
    100% {
      transform: translateY(-100vh) translateX(100px);
      opacity: 0;
    }
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  /* Hide scrollbar on mobile for cleaner look */
  @media (max-width: 640px) {
    ::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }
  }

  ::-webkit-scrollbar-track {
    @apply bg-cyber-navy;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-neon-blue/30 rounded-full;
    border: 2px solid transparent;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neon-blue/50;
  }

  /* Input styling for mobile - prevent zoom on iOS */
  @media (max-width: 640px) {
    input, select, textarea {
      font-size: 16px !important;
    }
  }

  /* Safe area padding for devices with notches */
  .safe-area-inset {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Dark theme select dropdown styling */
  select {
    @apply bg-cyber-navy text-gray-300;
  }

  select option {
    @apply bg-cyber-navy text-gray-300;
    padding: 8px 12px;
  }

  select option:hover,
  select option:focus,
  select option:checked {
    background: linear-gradient(#1A2847, #1A2847);
    color: #00E5FF;
  }

  /* Simple fade-in animation */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out;
  }
}

@layer utilities {
  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(0, 229, 255, 0.8),
                 0 0 40px rgba(0, 229, 255, 0.5);
  }

  /* Lighter version for mobile */
  .text-shadow-glow-light {
    text-shadow: 0 0 10px rgba(0, 229, 255, 0.6);
  }

  .text-shadow-orange {
    text-shadow: 0 0 20px rgba(255, 107, 53, 0.8),
                 0 0 40px rgba(255, 107, 53, 0.5);
  }

  /* Lighter version for mobile */
  .text-shadow-orange-light {
    text-shadow: 0 0 10px rgba(255, 107, 53, 0.6);
  }

  .text-shadow-purple {
    text-shadow: 0 0 20px rgba(184, 41, 255, 0.8),
                 0 0 40px rgba(184, 41, 255, 0.5);
  }

  /* Simplify text shadows on mobile */
  @media (max-width: 767px) {
    .text-shadow-glow,
    .text-shadow-orange,
    .text-shadow-purple {
      text-shadow: none;
    }

    .text-shadow-glow-light {
      text-shadow: 0 0 5px rgba(0, 229, 255, 0.4);
    }

    .text-shadow-orange-light {
      text-shadow: 0 0 5px rgba(255, 107, 53, 0.4);
    }
  }

  /* GPU acceleration hints for animations */
  .will-change-transform {
    will-change: transform;
  }

  /* CSS containment for better performance */
  .contain-layout {
    contain: layout;
  }

  .contain-paint {
    contain: paint;
  }

  .contain-strict {
    contain: strict;
  }
}
